{
  "requestHandler": {
    "/smplGeoclust": {
      "name": "/smplGeoclust",
      "class": "solr.SearchHandler",
      "defaults": {
        "echoParams": "none",
        "df": "text"
      },
      "invariants": {
        "wt": "json",
        "json.nl": "map",
        "rows": 0,
        "json": "{\"filter\":[\"bundle:pop_sample\",\"has_geodata:true\",\"${bbox}\"],\"facet\":{\"geo\":{\"type\":\"terms\",\"field\":\"${geo}\",\"limit\":2000,\"mincount\":1,\"sort\":{\"count\":\"desc\"},\"facet\":{\"ltAvg\":\"avg(geo_coords_ll_0_coordinate)\",\"ltMin\":\"min(geo_coords_ll_0_coordinate)\",\"ltMax\":\"max(geo_coords_ll_0_coordinate)\",\"lnAvg\":\"avg(geo_coords_ll_1_coordinate)\",\"lnMin\":\"min(geo_coords_ll_1_coordinate)\",\"lnMax\":\"max(geo_coords_ll_1_coordinate)\",\"term\":{\"type\":\"terms\",\"field\":\"${term}\",\"limit\":2000,\"mincount\":1}}}}}"
      }
    },
    "/irGeoclust": {
      "name": "/irGeoclust",
      "class": "solr.SearchHandler",
      "defaults": {
        "echoParams": "none",
        "df": "text"
      },
      "invariants": {
        "wt": "json",
        "json.nl": "map",
        "rows": 0,
        "json": "{\"filter\":[\"bundle:pop_sample_phenotype\",\"bundle:pop_sample_phenotype\",\"has_geodata:true\",\"${bbox}\"],\"facet\":{\"geo\":{\"type\":\"terms\",\"field\":\"${geo}\",\"limit\":2000,\"mincount\":1,\"sort\":{\"count\":\"desc\"},\"facet\":{\"ltAvg\":\"avg(geo_coords_ll_0_coordinate)\",\"ltMin\":\"min(geo_coords_ll_0_coordinate)\",\"ltMax\":\"max(geo_coords_ll_0_coordinate)\",\"lnAvg\":\"avg(geo_coords_ll_1_coordinate)\",\"lnMin\":\"min(geo_coords_ll_1_coordinate)\",\"lnMax\":\"max(geo_coords_ll_1_coordinate)\",\"irAvg\":\"avg(phenotype_rescaled_value_f)\",\"term\":{\"type\":\"terms\",\"field\":\"${term}\",\"limit\":2000,\"mincount\":1}}}}}"
      }
    }
  }
}
}

